{{- if .Values.broker.create }}
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: {{ include "mcp-gateway.brokerServiceAccountName" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "mcp-gateway.labels" . | nindent 4 }}
    component: mcp-gateway
{{- end }}
{{- if .Values.controller.enabled }}
apiVersion: v1
kind: ServiceAccount
metadata:
  name: {{ include "mcp-gateway.controllerServiceAccountName" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "mcp-gateway.labels" . | nindent 4 }}
    component: controller
{{- end }}
