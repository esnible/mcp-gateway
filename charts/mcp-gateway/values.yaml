# Default values for mcp-gateway.
# This is a YAML-formatted file.

# Image configuration for mcp-gateway (broker/router)
image:
  repository: ghcr.io/kuadrant/mcp-gateway
  # tag defaults to Chart.appVersion if empty
  tag: ""
  pullPolicy: IfNotPresent

# Image configuration for mcp-controller
imageController:
  repository: ghcr.io/kuadrant/mcp-controller
  # tag defaults to Chart.appVersion if empty
  tag: ""
  pullPolicy: IfNotPresent

# Controller configuration
controller:
  # Enable/disable controller deployment. Set to false for broker-only instances
  # when running multiple MCP Gateway instances (only one controller is needed cluster-wide)
  enabled: true

# EnvoyFilter for Istio integration
envoyFilter:
  # Create EnvoyFilter to route requests through MCP Gateway external processor
  create: true
  # Namespace where EnvoyFilter should be created (usually istio-system)
  namespace: istio-system
  # Name of the envoy filter to create
  name: mcp-ext-proc

# Gateway flag configuration
gateway:
  # publicHost set the value for --mcp-gateway-public-host flag
  publicHost: mcp.127-0-0-1.sslip.io

# Broker configuration
broker:
  # writeTimeoutSeconds sets the HTTP write timeout for the broker in seconds.
  # Default 0 (disabled) is required for SSE notification support via GET /mcp.
  # Set > 0 to enable a timeout (will break SSE notifications).
  writeTimeoutSeconds: 0

# MCPGatewayExtension configuration
mcpGatewayExtension:
  # Create an MCPGatewayExtension resource
  create: true
  # Gateway reference - the Gateway this MCP Gateway instance is responsible for
  gatewayRef:
    # Name of the Gateway
    name: mcp-gateway
    # Namespace of the Gateway (if different from release namespace, a ReferenceGrant will be created)
    namespace: gateway-system
